<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Swipe</title>
		<link rel="stylesheet" href="css/bootstrap.min.css" />
		<link rel="stylesheet" href="css/image.css" />
		<script src="js/bootstrap/jquery-2.1.1.min.js"></script>
	    <script src="js/bootstrap/bootstrap.min.js"></script>
		<script src="js/vendor/modernizr.js"></script>
		<script src="js/vendor/jquery.touchSwipe.js"></script>
	</head>

	<body>
		<div class ="container">
			<div id="galleryTouch">
			  
			  <div id="imgs" style="-webkit-transition: 0s; transition: 0s; -webkit-transform: translate3d(0px, 0px, 0px);">

			    <div class="">
			    	<img class="img-responsive" src="images/1.jpg">
			    </div>
			    
			    <div class="">
			  	  <img id="image-2" class="img-responsive" src="images/2.jpg">
			  	</div>
			  	
			  	<div class="">
			      <img class="img-responsive" src="images/3.jpg">
			    </div>

			  </div>
			  <!-- end of imgs -->
			</div>
			<!-- end of galleryTouch -->
	    </div>
		<!-- end of container -->
	    <script>

	    	var height,width;
	    	
			$(document).ready(function() {
			    $("img").load(function() {
			        height = $(this).height();
			        width = $(this).width();
				});

				// $(window).resize(function(){
				//    if($(this).width() != width){
				//       width = $(this).width();
				//        //console.log(width);
				//       height = $("#image-2").height();
				//       // alert(height);
				//    }
				// });

				$(function() {
					// var img = document.getElementById('image-1'); 
					var IMG_HEIGHT = height ,
					currentImg=0,
					maxImages=3;
					speed=500,
					imgs = $("#imgs");

					//Init touch swipe
					imgs.swipe( {
						triggerOnTouchEnd : true,
						swipeStatus : swipeStatus
						// allowPageScroll:"vertical"
					});

					/**
					* Catch each phase of the swipe.
					* move : we drag the div.
					* cancel : we animate back to where we were
					* end : we animate to the next image
					*/
					function swipeStatus(event, phase, direction, distance, fingers)
					{
						//If we are moving before swipe, and we are going L or R, then manually drag the images
						if( phase=="move" && (direction=="up" || direction=="down") )
						{
							var duration=0;

							if (direction == "up")
								scrollImages((IMG_HEIGHT * currentImg) + distance, duration);

							else if (direction == "down")
								scrollImages((IMG_HEIGHT * currentImg) - distance, duration);
						}

						//Else, cancel means snap back to the begining
						else if ( phase == "cancel")
						{
							scrollImages(IMG_HEIGHT * currentImg, speed);
						}

						//Else end means the swipe was completed, so move to the next image
						else if ( phase =="end" )
						{
							if (direction == "down")
								previousImage()
							else if (direction == "up")
								nextImage()
						}
					}

					function previousImage()
					{
						currentImg = Math.max(currentImg-1, 0);
						scrollImages( IMG_HEIGHT * currentImg, speed);
					}

					function nextImage()
					{
						currentImg = Math.min(currentImg+1, maxImages-1);
						scrollImages( IMG_HEIGHT * currentImg, speed);
					}

					/**
					 * Manually update the position of the imgs on drag
					 */
					function scrollImages(distance, duration)
					{
						imgs.css("-webkit-transition-duration", (duration/1000).toFixed(1) + "s");

						//inverse the number we set in the css
						var value = (distance<0 ? "" : "-") + Math.abs(distance).toString();

						imgs.css("-webkit-transform", "translate3d(0px,"+value +"px,0px)");
					}


					// window.onload=function(){
					
					//     $("#image-1").addClass("zoom");
					//     setTimeout(function(){
					//     $("#image-1").removeClass("zoom");
					//     },5000);
					// }


				});
			});

			

	    </script>
	</body>

</html>